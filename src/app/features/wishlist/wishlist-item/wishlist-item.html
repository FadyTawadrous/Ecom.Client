<div class="wishlist-card" (click)="navigateToProductDetails()">

  <button mat-icon-button class="remove-btn" (click)="onRemove(); $event.stopPropagation()" matTooltip="Remove">
    <mat-icon>close</mat-icon>
  </button>

  <div class="image-frame">
    <img [src]="item.thumbnailUrl" [alt]="item.productTitle" class="product-img" />

    <div class="saved-badge">
      <mat-icon>favorite</mat-icon>
      <span>Saved</span>
    </div>
  </div>

  <div class="card-content">

    <div class="text-group">
      <h3 class="product-title">{{ item.productTitle }}</h3>
      <p class="product-price">{{ item.price | currency }}</p>
    </div>

    <div class="actions-area" (click)="$event.stopPropagation()">

      @if (!cartItem()) {
      <button mat-flat-button class="add-btn" (click)="addToCart()">
        <mat-icon>shopping_bag</mat-icon>
        Add to Cart
      </button>
      }

      @if (cartItem()) {
      <div class="qty-controls">
        <button mat-icon-button class="qty-btn" (click)="decrement()">
          <mat-icon>remove</mat-icon>
        </button>

        <div class="qty-display">
          <span class="qty-label">In Cart</span>
          <span class="qty-val">{{ cartItem()!.quantity }}</span>
        </div>

        <button mat-icon-button class="qty-btn" (click)="increment()">
          <mat-icon>add</mat-icon>
        </button>
      </div>
      }

    </div>
  </div>

</div>