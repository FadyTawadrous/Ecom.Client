<div class="search-filter">
  <!-- Header with clear button -->
  <div class="filter-header">
    <h3 class="filter-title">Filters</h3>
    <button mat-button color="warn" (click)="clearFilters()">
      Clear All
    </button>
  </div>

  <!-- Search Input -->
  <div class="filter-section">
    <h4>Search</h4>
    <mat-form-field appearance="outline">
      <mat-label>Product name</mat-label>
      <input matInput [formControl]="filterForm.get('search')" 
             placeholder="Type to search...">
      <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>
  </div>

  <!-- Price Range -->
  <div class="filter-section">
    <h4>Price Range</h4>
    
    <!-- Predefined price ranges -->
    <div class="price-ranges">
      @for (range of priceRanges; track $index) {
        <button mat-stroked-button 
                class="price-range-btn"
                [class.active]="isPriceRangeSelected(range.min, range.max)"
                (click)="selectPriceRange(range.min, range.max)">
          {{ range.label }}
        </button>
      }
    </div>
    
    <!-- Custom price inputs -->
    <div class="custom-price">
      <div class="price-inputs">
        <mat-form-field appearance="outline" class="price-input">
          <mat-label>Min Price</mat-label>
          <input matInput type="number" 
                 [formControl]="filterForm.get('minPrice')"
                 placeholder="0">
          <span matTextPrefix>$</span>
        </mat-form-field>
        
        <span class="price-to">to</span>
        
        <mat-form-field appearance="outline" class="price-input">
          <mat-label>Max Price</mat-label>
          <input matInput type="number" 
                 [formControl]="filterForm.get('maxPrice')"
                 placeholder="1000">
          <span matTextPrefix>$</span>
        </mat-form-field>
      </div>
    </div>
  </div>

  <!-- Rating Filter -->
  <div class="filter-section">
    <h4>Minimum Rating</h4>
    <div class="rating-buttons">
      @for (rating of ratingOptions; track rating) {
        <button mat-stroked-button 
                class="rating-btn"
                [class.active]="isRatingSelected(rating)"
                (click)="selectRating(rating)">
          <div class="stars">
            @for (star of [1,2,3,4,5]; track star) {
              <mat-icon class="star">
                {{ star <= rating ? 'star' : 'star_border' }}
              </mat-icon>
            }
          </div>
          <span>& Up</span>
        </button>
      }
    </div>
  </div>

  <!-- Sort Options -->
  <div class="filter-section">
    <h4>Sort By</h4>
    <mat-form-field appearance="outline">
      <mat-label>Sort products</mat-label>
      <mat-select [formControl]="filterForm.get('sortBy')">
        @for (option of sortOptions; track option.value) {
          <mat-option [value]="option.value">
            {{ option.label }}
          </mat-option>
        }
      </mat-select>
    </mat-form-field>
  </div>
</div>